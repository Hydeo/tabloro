function IconSelect(e,t){function n(){if(t||(t={}),c.setIconSelectElement(e)){t=l.checkParameters(t);{c.createUI(t,e)}c.iconSelectElement.onclick=function(){c.showBox()},c.showBox(!1),c.iconSelectElement.addEventListener("click",function(e){e.stopPropagation()}),window.addEventListener("click",function(){c.showBox(!1)})}else alert("Element not found.")}function c(){}function l(){}var o,i=[],s=-1,d=IconSelect.DEFAULT;this.refresh=function(e){i=[];for(var n=this.setSelectedIndex,l=0;l<e.length;l++)e[l].element=c.createIcon(e[l].iconFilePath,e[l].iconValue,l,t),e[l].element.onclick=function(){n(this.childNodes[0].getAttribute("icon-index"))},i.push(e[l]);var o=10;c.boxElement.style.height=(t.iconsHeight+2)*o+(o+1)*t.boxIconSpace,this.setSelectedIndex(0)},this.getIcons=function(){return i},this.setSelectedIndex=function(e){var t;i.length>e&&(t=i[e]),t&&(-1!=s&&i[s].element.setAttribute("class","icon"),s=e,c.selectedIconImgElement.setAttribute("src",t.iconFilePath),-1!=s&&i[s].element.setAttribute("class","icon selected")),c.iconSelectElement.dispatchEvent(new Event("changed"))},this.getSelectedIndex=function(){return s},this.getSelectedValue=function(){return i[s].iconValue},this.getSelectedFilePath=function(){return i[s].iconFilePath},c.iconSelectElement,c.boxElement,c.boxScrollElement,c.selectedIconImgElement,c.selectedIconElement,c.showBox=function(t){null==t&&(t="none"==c.boxElement.style.display?!0:!1),t?(c.boxElement.style.display="block",c.boxScrollElement.style.display="block",o=o?o:new iScroll(e+"-box-scroll")):(c.boxElement.style.display="none",c.boxScrollElement.style.display="none"),c.boxElement.style.display=t?"block":"none"},c.setIconSelectElement=function(e){return c.iconSelectElement=document.getElementById(e),c.iconSelectElement},c.clearUI=function(){c.iconSelectElement.innerHTML=""},c.clearIcons=function(){c.boxElement.innerHTML=""},c.createUI=function(t){c.clearUI(),c.iconSelectElement.setAttribute("class","icon-select");var n=document.createElement("div");n.setAttribute("class","selected-box");var l=document.createElement("div");l.setAttribute("class","selected-icon"),c.selectedIconImgElement=document.createElement("img"),c.selectedIconImgElement.setAttribute("src",""),l.appendChild(c.selectedIconImgElement);var o=document.createElement("div");o.setAttribute("class","component-icon");var i=document.createElement("img");i.setAttribute("src",IconSelect.COMPONENT_ICON_FILE_PATH),o.appendChild(i),c.boxScrollElement=document.createElement("div"),c.boxScrollElement.setAttribute("id",e+"-box-scroll"),c.boxScrollElement.setAttribute("class","box"),c.boxElement=document.createElement("div"),c.boxScrollElement.appendChild(c.boxElement),c.selectedIconImgElement.setAttribute("width",t.selectedIconWidth),c.selectedIconImgElement.setAttribute("height",t.selectedIconHeight),l.style.width=t.selectedIconWidth,l.style.height=t.selectedIconHeight,n.style.width=t.selectedIconWidth+t.selectedBoxPadding+t.selectedBoxPaddingRight,n.style.height=t.selectedIconHeight+2*t.selectedBoxPadding,l.style.top=t.selectedBoxPadding,l.style.left=t.selectedBoxPadding,o.style.bottom=4+t.selectedBoxPadding,c.boxScrollElement.style.left=parseInt(n.style.width)+1,c.boxScrollElement.style.width=(t.iconsWidth+2)*t.vectoralIconNumber+(t.vectoralIconNumber+1)*t.boxIconSpace,c.boxScrollElement.style.height=(t.iconsHeight+2)*t.horizontalIconNumber+(t.horizontalIconNumber+1)*t.boxIconSpace,c.boxElement.style.left=c.boxScrollElement.style.left,c.boxElement.style.width=c.boxScrollElement.style.width,c.iconSelectElement.appendChild(n),n.appendChild(l),n.appendChild(o),n.appendChild(c.boxScrollElement);var s={};return s.iconSelectElement=c.iconSelectElement,s.selectedBoxElement=n,s.selectedIconElement=l,s.selectedIconImgElement=c.selectedIconImgElement,s.componentIconElement=o,s.componentIconImgElement=i,s},c.createIcon=function(e,t,n,l){var o=document.createElement("div");o.setAttribute("class","icon"),o.style.width=l.iconsWidth,o.style.height=l.iconsHeight,o.style.marginLeft=l.boxIconSpace,o.style.marginTop=l.boxIconSpace;var i=document.createElement("img");return i.setAttribute("src",e),i.setAttribute("icon-value",t),i.setAttribute("icon-index",n),i.setAttribute("width",l.iconsWidth),i.setAttribute("height",l.iconsHeight),o.appendChild(i),c.boxElement.appendChild(o),o},l.checkParameters=function(e){return e.selectedIconWidth=e.selectedIconWidth?e.selectedIconWidth:d.SELECTED_ICON_WIDTH,e.selectedIconHeight=e.selectedIconHeight?e.selectedIconHeight:d.SELECTED_ICON_HEIGHT,e.selectedBoxPadding=e.selectedBoxPadding?e.selectedBoxPadding:d.SELECTED_BOX_PADDING,e.selectedBoxPaddingRight=e.selectedBoxPaddingRight?e.selectedBoxPaddingRight:d.SELECTED_BOX_PADDING_RIGHT,e.iconsWidth=e.iconsWidth?e.iconsWidth:d.ICONS_WIDTH,e.iconsHeight=e.iconsHeight?e.iconsHeight:d.ICONS_HEIGHT,e.boxIconSpace=e.boxIconSpace?e.boxIconSpace:d.BOX_ICON_SPACE,e.vectoralIconNumber=e.vectoralIconNumber?e.vectoralIconNumber:d.VECTORAL_ICON_NUMBER,e.horizontalIconNumber=e.horizontalIconNumber?e.horizontalIconNumber:d.HORIZONTAL_ICON_NUMBER,e},n()}IconSelect.DEFAULT={},IconSelect.DEFAULT.SELECTED_ICON_WIDTH=48,IconSelect.DEFAULT.SELECTED_ICON_HEIGHT=48,IconSelect.DEFAULT.SELECTED_BOX_PADDING=1,IconSelect.DEFAULT.SELECTED_BOX_PADDING_RIGHT=12,IconSelect.DEFAULT.ICONS_WIDTH=32,IconSelect.DEFAULT.ICONS_HEIGHT=32,IconSelect.DEFAULT.BOX_ICON_SPACE=1,IconSelect.DEFAULT.HORIZONTAL_ICON_NUMBER=3,IconSelect.DEFAULT.VECTORAL_ICON_NUMBER=3,IconSelect.COMPONENT_ICON_FILE_PATH="/img/arrow.png";