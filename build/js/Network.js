"use strict";var Network={};Network.ready=!1,Network.isMine=function(e){return Network.myId===e},Network.setup=function(){Network.client=new Eureca.Client,Network.client.ready(function(e){Network.server=e}),Network.client.exports.setId=function(e){Network.myId=e,Network.server.handshake(e,cursorId,playerName,roomName),create(),Network.ready=!0},Network.client.exports.kill=function(e){playerList[e.id]&&(playerList[e.id].kill(),delete playerList[e.id],UI.message(e.name,"left the table..."),UI.updateNames())},Network.client.exports.spawnPlayer=function(e){if(!Network.isMine(e.id)){var t=Cursor.new(e);playerList[e.id]=t,UI.message(e.name,"joined the table!"),UI.updateNames()}},Network.client.exports.updateCursor=function(e,t){Network.isMine(e.id)||playerList[e.id]&&(playerList[e.id].x=t.x,playerList[e.id].y=t.y)},Network.client.exports.dragTile=function(e,t){if(!Network.isMine(e.id)){var i=G.findTile(t);i.defaultFrame&&T.show(i),Controls.hide(i),G.addUpdatePosition({follower:i,target:playerList[e.id]})}},Network.client.exports.positionTile=function(e,t,i){if(Network.isMine(e.id)){var o=G.findTile(t);Controls.hide(o),R.compose(T.enableInput,T.show)(o),Utils.alignPosRot(o,i),UI.message("Positioning tile",t)}},Network.client.exports.dropTile=function(e,t,i){var o=G.findTile(t);S.removeCardFromStacks(t),Network.isMine(e.id)||(Controls.hide(o),UI.message(e.name,"moved tile",o.id),G.removeUpdatePosition(playerList[e.id]),Utils.alignPosRot(o,i))},Network.client.exports.dragStack=function(e,t){if(!Network.isMine(e.id)){var i=G.findStack(t);i.remoteDragged=!0,G.addUpdatePosition({follower:i,target:playerList[e.id]})}},Network.client.exports.dropStack=function(e,t,i){if(!Network.isMine(e.id)){var o=G.findStack(t);G.removeUpdatePosition(playerList[e.id]),o.remoteDragged=!1,Utils.alignPosRot(o,i),S.tidy(o),UI.message(e.name,"moved stack",t)}},Network.client.exports.positionStack=function(e,t,i){if(Network.isMine(e.id)){var o=G.findStack(t);Utils.alignPosRot(o,i.position),S.updateCards(o,i.cards),S.alignElements(o),UI.message("Positioning stack",t)}},Network.client.exports.updateStackCards=function(e,t,i){G.removeUpdatePosition(playerList[e.id]);var o=G.findStack(t);S.updateCards(o,i)},Network.client.exports.flipStack=function(e,t){var i=G.findStack(t);S.flipCards(i)},Network.client.exports.spin=function(e,t,i,o){Dice.spin(t,i,o)},Network.client.exports.receiveChat=function(e,t){UI.message(e.name,":",t)}};