"use strict";var T={};T.id=0,T.centerAnchor=function(t){return t.anchor.set(.5),t},T.draggable=function(t){return t.controls=t.controls||game.add.group(),t.inputEnabled=!0,t.input.enableDrag(!1,!0),t.input.useHandCursor=!0,game.physics.arcade.enable(t),t.body.collideWorldBounds=!0,t},T.networkAble=function(t){return t.events.onInputDown.add(T.onStartDrag),t.events.onInputUp.add(T.onStopDrag),t},T.stackable=function(t){return t.stackable=!0,t},T.scale=R.curry(function(t,n){return n.scale.set(t),n}),T.setId=function(t){return t.id=T.id++,t},T.resetRotation=function(t){return t.rotation=0,t},T.rotateable=function(t){return t.rotateable=!0,t.events.onInputDown.add(T.onStartDragRotate),t.events.onInputUp.add(T.onStopDragRotate),t},T.onRotate=function(){var t=Controls.target.parent.rotateBy||Math.PI/2,n=Controls.target.position.clone();n.rotation=Controls.target.rotation+t,Network.server.tileDragStop(Controls.target.id,n),game.add.tween(Controls.target).to({rotation:"+"+t},50,Phaser.Easing.Linear.None,!0,0,!1)},T.defaultTint=function(t){return t.tint=t.defaultTint,t},T.setDefaultTint=function(t,n){return n.defaultTint=n.tint=t,n},T.resetTint=function(t){return t.tint+=3355443,t},T.onStartDrag=function(t){Network.server.tileDragStart(t.id)},T.onStopDrag=function(t){var n=t.position.clone();n.rotation=t.rotation,Network.server.tileDragStop(t.id,n)},T.onStartDragRotate=function(t){Controls.target=t,T.show(t),Controls.hide()},T.onStopDragRotate=function(t){Controls.at(t)},T.enableInput=function(t){return t.inputEnabled=!0,t},T.show=function(t){return t.frame=t.defaultFrame,t},T.hide=function(t){return t.frame=0,t};